// Do not edit this file; automatically generated by build.py.
'use strict';


Blockly.asm=new Blockly.Generator("asm");Blockly.asm.INDENT="";Blockly.asm.indent="  ";Blockly.asm.ORDER_ATOMIC=0;Blockly.asm.init=function(a){Blockly.asm.definitions_=Object.create(null);Blockly.asm.labelCount=0;Blockly.asm.variableDB_?Blockly.asm.variableDB_.reset():Blockly.asm.variableDB_=new Blockly.Names(Blockly.asm.RESERVED_WORDS_,"");Blockly.asm.definitions_.variables=Blockly.asm.genVariableDefinitions()};
Blockly.asm.finish=function(a){var b=[],c;for(c in Blockly.asm.definitions_)b.push(Blockly.asm.definitions_[c]);delete Blockly.asm.definitions_;delete Blockly.asm.functionNames_;delete Blockly.asm.labelCount;Blockly.asm.variableDB_.reset();return b.join("\n\n")+"\n\n\n"+a};Blockly.asm.scrubNakedValue=function(a){return a};Blockly.asm.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
Blockly.asm.scrub_=function(a,b){var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();(e=Blockly.utils.wrap(e,Blockly.asm.COMMENT_WRAP-3))&&(c+=Blockly.asm.prefixLines(e,"// ")+"\n");for(var d=0;d<a.inputList.length;d++)a.inputList[d].type==Blockly.INPUT_VALUE&&(e=a.inputList[d].connection.targetBlock())&&(e=Blockly.asm.allNestedComments(e))&&(c+=Blockly.asm.prefixLines(e,"// "))}d=a.nextConnection&&a.nextConnection.targetBlock();d=Blockly.asm.blockToCode(d);
return c+b+d};Blockly.asm.genVariableDefinitions=function(){for(var a=ramAddress,b="; variables\n",c=Blockly.Variables.allVariables(workspace),e=0,d;d=c[e];e++){var f=Blockly.asm.variableDB_.getName(d.name,Blockly.Variables.NAME_TYPE);"Number"==d.type?(b+=".equ "+f+"_H = 0x"+wordToHexText(a)+"\n",b+=".equ "+f+"_L = 0x"+wordToHexText(a+1)+"\n"):b+=".equ "+f+" = 0x"+wordToHexText(a)+"\n";a+=CppTypeSizes[d.type]}return b};
Blockly.asm.getUniqueLabel=function(){Blockly.asm.labelCount++;return"label_"+(Blockly.asm.labelCount-1)};Blockly.asm.functions={};
for(var func in jumpTable)Blockly.asm["functions_"+func]=function(a){for(var b=a.type.replace("functions_",""),c=jumpTable[b].parameterTypes,e="",d="",f=Blockly.asm.indent,g=c.length-1;0<=g;g--){var h=Blockly.asm.valueToCode(a,"VAR_"+g,0);""==h&&(h=a.getFieldValue("VAR_"+g),h=null==h?"":f+"ldi r24, "+(a.getFieldValue("VAR_"+g)||"0")+"\n");e+=h;h=CppTypeSizes[typesCppToBlockly[c[g]]];0<g&&(1==h?e+=f+"push r24\n":2==h&&(e+=f+"push r24\n"+f+"push r25\n"))}a=24;for(g=0;g<c.length;g++)h=CppTypeSizes[typesCppToBlockly[c[g]]],
1==h?(0<g&&(d+=f+"pop r"+a+"\n"),a-=2):2==h&&(0<g&&(d+=f+"pop r"+(a+1)+"\n"+f+"pop r"+a+"\n"),a-=2);c=e+d+Blockly.asm.indent+"call "+b+"\n";return"void"==jumpTable[b].returnType?c:[c,Blockly.asm.ORDER_ATOMIC]};Blockly.asm.io={};Blockly.asm.io_setBit=function(a){var b=a.getFieldValue("register"),c=a.getFieldValue("bit");a="1"==a.getFieldValue("newValue")?"sbi":"cbi";return Blockly.asm.indent+a+" "+b+", "+c+"\n"};Blockly.asm.io_button=function(a){a=a.getFieldValue("BUTTON");var b=Blockly.asm.indent;return[b+"clr r24\n"+b+"sbis PINC, "+("1"==a?"4":"5")+"\n"+b+"ldi r24, 1\n",Blockly.asm.ORDER_ATOMIC]};
Blockly.asm.io_led=function(a){var b=a.getFieldValue("led");a="1"==a.getFieldValue("newValue")?"sbi":"cbi";return Blockly.asm.indent+a+" PORTC, "+(b-1)+"\n"};Blockly.asm.io_pinmode=function(a){var b=parseInt(a.getFieldValue("pin"));a="1"==a.getFieldValue("mode")?"sbi":"cbi";b=pinNumberToPort(b);return Blockly.asm.indent+a+" DDR"+b.port+", "+b.pin+"\n"};
Blockly.asm.io_setPin=function(a){var b=parseInt(a.getFieldValue("pin"));a=Blockly.asm.valueToCode(a,"VALUE",0);b=pinNumberToPort(b);var c=Blockly.asm.indent,e=Blockly.asm.getUniqueLabel(),d=Blockly.asm.getUniqueLabel();return a+c+"tst r24\n"+c+"breq "+e+"\n"+c+"sbi PORT"+b.port+", "+b.pin+"\n"+c+"jmp "+d+"\n"+e+":\n"+c+"cbi PORT"+b.port+", "+b.pin+"\n"+d+":\n"};
function pinNumberToPort(a){var b={};5>=a?(b.port="F",b.pin=a):6<=a&&13>=a?(b.port="E",b.pin=a-6):(b.port="B",14==a||15==a?b.pin=a-10:16==a?b.pin=0:17==a?b.pin=2:18==a?b.pin=3:19==a&&(b.pin=1));return b};
Blockly.asm.logic={};Blockly.asm.controls_simple_if=function(a){var b=Blockly.asm.valueToCode(a,"CONDITION",0);a=Blockly.asm.statementToCode(a,"DO");var c=Blockly.asm.indent,e=Blockly.asm.getUniqueLabel(),d=Blockly.asm.getUniqueLabel();return b+c+"tst r24\n"+c+"brne "+e+"\n"+c+"jmp "+d+"\n"+e+":\n"+a+d+":\n"};
Blockly.asm.controls_ifelse=function(a){var b=Blockly.asm.valueToCode(a,"CONDITION",0),c=Blockly.asm.statementToCode(a,"DO");a=Blockly.asm.statementToCode(a,"ELSE");var e=Blockly.asm.indent,d=Blockly.asm.getUniqueLabel(),f=Blockly.asm.getUniqueLabel(),g=Blockly.asm.getUniqueLabel();return b+e+"tst r24\n"+e+"brne "+d+"\n"+e+"jmp "+f+"\n"+d+":\n"+c+e+"jmp "+g+"\n"+f+":\n"+a+g+":\n"};
Blockly.asm.logic_negate=function(a){var b=Blockly.asm.indent;return[Blockly.asm.valueToCode(a,"BOOL",0)+b+"ldi r18, 0x01\n"+b+"eor r24, r18\n",Blockly.asm.ORDER_ATOMIC]};Blockly.asm.logic_boolean=function(a){return["ldi r24, "+a.getFieldValue("BOOL")+"\n",Blockly.asm.ORDER_ATOMIC]};Blockly.asm.loops={};Blockly.asm.controls_repeat_ext=function(a){var b=Blockly.asm.valueToCode(a,"TIMES",0);a=Blockly.asm.statementToCode(a,"DO");void 0==a&&(a="");var c=Blockly.asm.getUniqueLabel(),e=Blockly.asm.getUniqueLabel(),d=Blockly.asm.indent;return d+"push r16\n"+b+d+"mov\tr16,\tr24\n"+c+":\n"+a+d+"dec r16\n"+d+"breq "+e+"\n"+d+"jmp "+c+"\n"+e+":\n"+d+"pop r16\n"};
Blockly.asm.controls_while=function(a){var b=Blockly.asm.valueToCode(a,"CONDITION",0);a=Blockly.asm.statementToCode(a,"DO");var c=Blockly.asm.indent,e=Blockly.asm.getUniqueLabel(),d=Blockly.asm.getUniqueLabel(),f=Blockly.asm.getUniqueLabel();return e+":\n"+b+"\n"+c+"tst r24\n"+c+"brne "+d+"\n"+c+"jmp "+f+"\n"+d+":\n"+a+"\n"+c+"jmp "+e+"\n"+f+":\n"};
Blockly.asm.controls_repeat_forever=function(a){a=Blockly.asm.statementToCode(a,"DO");void 0==a&&(a="");var b=Blockly.asm.getUniqueLabel();return b+":\n"+a+Blockly.asm.indent+"jmp "+b+"\n"};Blockly.asm.main={};Blockly.asm.listVars=function(){var a=workspace.getAllVariables();console.log(a)};Blockly.asm.main_main=function(a){var b=Blockly.asm.getUniqueLabel();a=Blockly.asm.statementToCode(a,"DO");return"; jumptable to pre-flashed functions\n"+jumpTableToCode()+"\n; register definitions\n"+controllerRegisters+"\n; generated code\n.org 0x"+wordToHexText(blocklyAddress)+"\n"+b+":\n"+a};Blockly.asm.math={};Blockly.asm.math_number=function(a){a=parseInt(a.getFieldValue("NUM"));return[Blockly.asm.indent+"ldi R24, "+(a&255)+"\n"+Blockly.asm.indent+"ldi R25, "+(a>>>8&255)+"\n",Blockly.asm.ORDER_ATOMIC]};Blockly.Blocks={};Blockly.Blocks.Movement={};Blockly.Constants={};Blockly.Constants.Movement={};Blockly.Constants.Movement.HUE=230;Blockly.Blocks.Movement.HUE=Blockly.Constants.Movement.HUE;
Blockly.asm.movement_moveto=function(a){var b=Blockly.asm.valueToCode(a,"position",Blockly.asm.ORDER_ATOMIC)||"RobotJointPosition::idle";a=Blockly.asm.valueToCode(a,"speed",Blockly.asm.ORDER_ATOMIC)||"200";Blockly.asm.variableDB_.getDistinctName("jointPosition",Blockly.Variables.NAME_TYPE);return"robot.moveSmooth("+b+", (uint16_t)"+a+");\n"};Blockly.asm.movement_waitUnilPositionReached=function(a){return"robot.waitForPositionReached();\n"};
Blockly.asm.movement_robotposition=function(a){var b=Blockly.asm.valueToCode(a,"gripperPos",Blockly.asm.ORDER_ATOMIC),c=Blockly.asm.valueToCode(a,"wristRotationPos",Blockly.asm.ORDER_ATOMIC),e=Blockly.asm.valueToCode(a,"wristPos",Blockly.asm.ORDER_ATOMIC),d=Blockly.asm.valueToCode(a,"elbowPos",Blockly.asm.ORDER_ATOMIC),f=Blockly.asm.valueToCode(a,"shoulderPos",Blockly.asm.ORDER_ATOMIC);return["RobotJointPosition(Servo::degToValue("+Blockly.asm.valueToCode(a,"shoulderRotationPos",Blockly.asm.ORDER_ATOMIC)+
"), Servo::degToValue("+f+"), Servo::degToValue("+d+"), Servo::degToValue("+e+"), Servo::degToValue("+c+"), Servo::degToValue("+b+"))",Blockly.ORDER_ATOMIC]};Blockly.asm.movement_idleposition=function(a){return["RobotJointPosition::idle",Blockly.ORDER_ATOMIC]};Blockly.asm.movement_upposition=function(a){return["RobotJointPosition::up",Blockly.ORDER_ATOMIC]};Blockly.asm.robot={};Blockly.asm.Robot_led=function(a){var b=a.getFieldValue("led");a="1"==a.getFieldValue("newValue")?"sbi":"cbi";return Blockly.asm.indent+a+" PORTC, "+(b-1)+"\n"};Blockly.asm.arduino_pinmode=function(a){var b=parseInt(a.getFieldValue("pin"));a="1"==a.getFieldValue("mode")?"sbi":"cbi";b=pinNumberToPort(b);console.log("block arduino_pinmode needs to be fixed");return Blockly.asm.indent+a+" DDR"+b.port+", "+b.pin+"\n"};
Blockly.asm.arduino_setPin=function(a){var b=parseInt(a.getFieldValue("pin"));a=Blockly.asm.valueToCode(a,"VALUE");b=pinNumberToPort(b);var c=Blockly.asm.indent,e=Blockly.asm.getUniqueLabel(),d=Blockly.asm.getUniqueLabel();console.log("block arduino_setPin needs to be fixed");return a+c+"tst r24\n"+c+"breq "+e+"\n"+c+"sbi PORT"+b.port+", "+b.pin+"\n"+c+"jmp "+d+"\n"+e+":\n"+c+"cbi PORT"+b.port+", "+b.pin+"\n"+d+":\n"};
function pinNumberToPort(a){var b={};5>=a?(b.port="F",b.pin=a):6<=a&&13>=a?(b.port="E",b.pin=a-6):(b.port="B",14==a||15==a?b.pin=a-10:16==a?b.pin=0:17==a?b.pin=2:18==a?b.pin=3:19==a&&(b.pin=1));return b};Blockly.asm.test={};Blockly.asm.test_setBit=function(a){var b=a.getFieldValue("register"),c=a.getFieldValue("bit");a="1"==a.getFieldValue("newValue")?"sbi":"cbi";return Blockly.asm.indent+a+" "+b+", "+c+"\n"};Blockly.asm.logic_boolean=function(a){return["ldi r24, "+a.getFieldValue("BOOL")+"\n",Blockly.asm.ORDER_ATOMIC]};Blockly.asm.logic_negate=function(a){var b=Blockly.asm.indent;return[Blockly.asm.valueToCode(a,"BOOL")+b+"ldi r18, 0x01\n"+b+"eor r24, r18\n",Blockly.asm.ORDER_ATOMIC]};
Blockly.asm.input_button=function(a){a=a.getFieldValue("BUTTON");var b=Blockly.asm.indent;return[b+"clr r24\n"+b+"sbis PINC, "+("1"==a?"4":"5")+"\n"+b+"ldi r24, 1\n",Blockly.asm.ORDER_ATOMIC]};Blockly.asm.logic_boolean=function(a){return[Blockly.asm.indent+"ldi r24, "+a.getFieldValue("BOOL")+"\n",Blockly.asm.ORDER_ATOMIC]};Blockly.asm.variables={};Blockly.asm.variables_get_number=function(a){a=Blockly.asm.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return[Blockly.asm.indent+"lds r24, "+a+"_L\n"+Blockly.asm.indent+"lds r25, "+a+"_H\n",Blockly.asm.ORDER_ATOMIC]};
Blockly.asm.variables_set_number=function(a){var b=Blockly.asm.valueToCode(a,"VALUE",0)||"";a=Blockly.asm.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return b+Blockly.asm.indent+"sts "+a+"_L, r24\n"+Blockly.asm.indent+"sts "+a+"_H, r25\n"};Blockly.asm.variables_get_Boolean=function(a){a=Blockly.asm.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return[Blockly.asm.indent+"lds r24, "+a+"\n",Blockly.asm.ORDER_ATOMIC]};
Blockly.asm.variables_set_Boolean=function(a){var b=Blockly.asm.valueToCode(a,"VALUE",0)||"";a=Blockly.asm.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return b+Blockly.asm.indent+"sts "+a+", r24\n"};